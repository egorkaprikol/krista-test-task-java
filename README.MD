# XML Parser

- Консольное приложение, которое может парсить xml определенного(заданного) формата
и сохранять рзультат сохранять в базу данных.
- На вход к приложению подается путь к файлу(или файлам - маска)
- Настройки базы данных считываются из .env-файла. 
- База поднимается в Docker и автоматически инициализируется из дампа plant.backup.

## Стек технологий

- Java JDK 11+
- Maven
- Docker и Docker Compose

## Установка и запуск

### 1. Клонируйте репозиторий 

git clone https://github.com/egorkaprikol/krista-test-task-java.git

cd krista-test-task-java

### 2. Подготовьте файл .env в корне проекта

Образец файла:

- DB_HOST=localhost
- DB_PORT=5432
- DB_NAME=xmlparser
- DB_USERNAME=xmlparser_user
- DB_PASSWORD=secret

### 3. Добавьте данные в папку data в корне проекта

Тестовые данные уже находятся в папке data в корне проекта

Если необходимо прочитать свои данные, то замените xml файлы в папке data на свои

### 4. Соберите и запустите сервис с базой данных через Docker Compose

docker-compose up --build

- База данных поднимется на порту 5432

- Будет создана база xmlparser

- Дамп plant.backup будет автоматически применён — таблицы и данные появятся

### 5. Соберите проект

mvn clean package

### 6. Запустите проект

java -jar target/xmlparser.jar ./data

Если при запуске проекта поломается кодировка, то запустите проект через скрипт run.bat в корне проекта

.\run.bat ./data

## Тесты

mvn test

## Структура

- docker/ # Скрипт для создания таблиц, сделанный из дампа
- src/ # Исходники проекта
- .env # Переменные окружения для БД
- data # Папка с файлами xml (исходники)
- docker-compose.yml # Docker-сервис PostgreSQL
- pom.xml # Maven-описание проекта

